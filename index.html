<!--            <a href="https://github.com/zhangqunwei/ImageProcessC10/blob/master/install/InstallerWeb.zip" class="btn btn-github"><span class="icon"></span>安装包下载页</a>
           <a href="https://github.com/zhangqunwei/ImageProcessC10/blob/master/main/main.zip" class="btn btn-github"><span class="icon"></span>主程序下载页</a>
 -->

<!DOCTYPE html>
<html>
  <head>
<!-- Matlab head -->
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
           <!--
        This HTML was auto-generated from MATLAB code.
        To make changes, update the MATLAB code and republish this document.
              --><title>&#32771;&#35797;&#39064;&#65306;C10 &#28388;&#27874;3</title><meta name="generator" content="MATLAB 9.0"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2017-05-22"><meta name="DC.source" content="KaoShiTi.m"><style type="text/css">
        html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:none}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

        html { min-height:100%; margin-bottom:1px; }
        html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:16px; color:#000; line-height:140%; background:none; overflow-y:scroll; }
        html body td { vertical-align:top; text-align:left; }

        h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
        h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
        h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

        a { color:#005fce; text-decoration:none; }
        a:hover { color:#005fce; text-decoration:underline; }
        a:visited { color:#004aa0; text-decoration:none; }

        p { padding:0px; margin:0px 0px 20px; }
        img { padding:0px; margin:0px 0px 20px; border:none; }
        p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

        ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
        ul li { padding:0px; margin:0px 0px 7px 0px; }
        ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
        ul li ol li { list-style:decimal; }
        ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
        ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
        ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
        ol li ol li { list-style-type:lower-alpha; }
        ol li ul { padding-top:7px; }
        ol li ul li { list-style:square; }

        .content { font-size:1.2em; line-height:140%; padding: 20px; }

        pre, code { font-size:16px; }
        tt { font-size: 1.2em; }
        pre { margin:0px 0px 20px; }
        pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
        pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
        pre.error { color:red; }

        @media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

        span.keyword { color:#0000FF }
        span.comment { color:#228B22 }
        span.string { color:#A020F0 }
        span.untermstring { color:#B20000 }
        span.syscmd { color:#B28C00 }

        .footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
        .footer p { margin:0px; }
        .footer a { color:#878787; }
        .footer a:hover { color:#878787; text-decoration:underline; }
        .footer a:visited { color:#878787; }

        table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
        table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }</style>

<!-- / Matlab head -->

<!-- git hand -->
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link rel="stylesheet" href="/ImageProcessC10/assets/css/style.css?v=de85aee19de08acbe067fc6a41fd05c3d11c12f2">
    <title>ImageProcessC10 by zhangqunwei</title>
<!-- / git hand -->
  </head>

  <body>
<!-- git body -->
        <header>
          <div class="container">
            <h1>ImageProcessC10</h1>
            <h2>《图像处理》课程考试题 C10滤波3</h2>

            <section id="downloads">
              
              <a href="https://github.com/zhangqunwei/ImageProcessC10" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
            </section>
          </div>
        </header>

        <div class="container">
          <section id="main_content">
          <h2>

          </section>
        </div>
<!-- / git body -->

<!-- Matlab body -->
        <div class="content"><h1>&#32771;&#35797;&#39064;&#65306;C10 &#28388;&#27874;3</h1><!--introduction--><div><ul><li>&#27010;&#36848;      &#65306;&#23545;&#32473;&#23450;&#30340;&#22270;&#20687;LBimage3&#23545;&#22270;&#20687;&#36827;&#34892;&#28388;&#27874;&#65292;&#21435;&#38500;&#20809;&#29031;&#24433;&#21709;&#65292; &#20877;&#36827;&#34892;&#20108;&#20540;&#21270;&#22788;&#29702;&#65292;&#24471;&#21040;&#36739;&#23436;&#25972;&#30340;&#25968;&#23383;&#21644;&#31526;&#21495;&#12290;</li><li>&#20316;&#32773;   &#65306;&#24352;&#32676;&#20255;  &#21335;&#26124;&#33322;&#31354;&#22823;&#23398;&#20449;&#24687;&#24037;&#31243;&#23398;&#38498;&#33258;&#21160;&#21270;&#31995;</li><li>&#26085;&#26399;   &#65306;[4/5/2017]</li></ul></div><!--/introduction--><p><img vspace="5" hspace="5" src="html/GUI/main.bmp" alt=""> </p><p><b>1.&#20027;&#20989;&#25968;</b></p><pre class="codeinput"><span class="keyword">function</span> varargout = KaoShiTi(varargin)
        </pre><pre class="codeinput"><span class="comment">% Begin initialization code - DO NOT EDIT</span>
        gui_Singleton = 1;
        gui_State = struct(<span class="string">'gui_Name'</span>,       mfilename, <span class="keyword">...</span>
                           <span class="string">'gui_Singleton'</span>,  gui_Singleton, <span class="keyword">...</span>
                           <span class="string">'gui_OpeningFcn'</span>, @KaoShiTi_OpeningFcn, <span class="keyword">...</span>
                           <span class="string">'gui_OutputFcn'</span>,  @KaoShiTi_OutputFcn, <span class="keyword">...</span>
                           <span class="string">'gui_LayoutFcn'</span>,  [] , <span class="keyword">...</span>
                           <span class="string">'gui_Callback'</span>,   []);
        <span class="keyword">if</span> nargin &amp;&amp; ischar(varargin{1})
            gui_State.gui_Callback = str2func(varargin{1});
        <span class="keyword">end</span>
        <span class="keyword">if</span> nargout
            [varargout{1:nargout}] = gui_mainfcn(gui_State, varargin{:});
        <span class="keyword">else</span>
            gui_mainfcn(gui_State, varargin{:});
        <span class="keyword">end</span>
        <span class="comment">% End initialization code - DO NOT EDIT</span>
        </pre><p><b>2.&#24320;&#22987;&#20989;&#25968;</b></p><pre class="codeinput"><span class="keyword">function</span> KaoShiTi_OpeningFcn(hObject, eventdata, handles, varargin)
        </pre><pre class="codeinput"><span class="comment">% &#20840;&#23616;&#21464;&#37327;</span>
            handles.img_old=0;                  <span class="comment">% &#28304;&#22270;&#20687;</span>
            handles.img=0;                      <span class="comment">% &#22270;&#20687;&#25968;&#25454;</span>
            [hight,width]=size(handles.img);    <span class="comment">% &#26816;&#32034;&#22270;&#20687;&#23610;&#23544;</span>
            handles.img_width=width;            <span class="comment">% &#22270;&#20687;&#23485;</span>
            handles.img_hight=hight;            <span class="comment">% &#22270;&#20687;&#39640;</span>
        <span class="comment">% &#35774;&#32622;</span>
            set(handles.Load_img,<span class="string">'enable'</span>,<span class="string">'on'</span>);
            set(handles.Minimum_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
            set(handles.Prewitt_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
            set(handles.Sub_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
            set(handles.N_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
            set(handles.BW_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
        <span class="comment">% Choose default command line output for KaoShiTi</span>
        handles.output = hObject;
        <span class="comment">% Update handles structure</span>
        guidata(hObject, handles);
        <span class="comment">% UIWAIT makes KaoShiTi wait for user response (see UIRESUME)</span>
        <span class="comment">% uiwait(handles.figure1);</span>
        </pre><p><b>3.&#36755;&#20986;&#20989;&#25968;</b></p><pre class="codeinput"><span class="keyword">function</span> KaoShiTi_OutputFcn(hObject, eventdata, handles)
        </pre><pre class="codeinput"><span class="comment">% Get default command line output from handles structure</span>
        <span class="comment">% varargout{1} = handles.output;</span>
        </pre><p><b>4.&#37325;&#32622;</b></p><pre class="codeinput"><span class="keyword">function</span> chongZhi_Callback(hObject, eventdata, handles)
        </pre><pre class="codeinput"><span class="comment">% &#37325;&#32622;&#22270;&#20687;</span>
            handles.img=handles.img_old;
            handles.img_AM=handles.img_old;
        <span class="comment">% &#37325;&#32622;&#20351;&#33021;</span>
            set(handles.Minimum_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
            set(handles.Prewitt_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
            set(handles.Sub_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
            set(handles.BW_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
            set(handles.N_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
        <span class="comment">% &#26174;&#31034;</span>
            axes(handles.axes2);
            imshow(handles.img);
        guidata(hObject,handles);
        </pre><p><b>5.&#21152;&#36733;&#22270;&#20687;</b></p><pre class="codeinput"><span class="keyword">function</span> Load_img_Callback(hObject, eventdata, handles)
        </pre><pre class="codeinput"><span class="comment">% &#21152;&#36733;&#22270;&#20687;</span>
            str=<span class="string">'LBimage3.bmp'</span>;
            handles.img_old=imread(str);        <span class="comment">% &#28304;&#22270;&#20687;</span>
            handles.img=imread(str);            <span class="comment">% &#22270;&#20687;&#25968;&#25454;</span>
        <span class="comment">% &#26174;&#31034;&#22270;&#20687;</span>
            axes(handles.axes1);
            imshow(handles.img);
            title(<span class="string">'\fontsize{20}\color{red}&#21407;&#22270;'</span>);
        <span class="comment">% &#35774;&#32622;&#20351;&#33021;</span>
            set(handles.Minimum_img,<span class="string">'enable'</span>,<span class="string">'on'</span>);
            set(handles.Prewitt_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
            set(handles.Sub_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
            set(handles.BW_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
            set(handles.N_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
        <span class="comment">% &#26356;&#26032;&#25968;&#25454;</span>
            guidata(hObject,handles);
        </pre><p><b>6.&#25552;&#21462;&#20809;&#29031;&#37096;&#20998;</b></p><pre class="codeinput"><span class="keyword">function</span> Minimum_img_Callback(hObject, eventdata, handles)
        </pre><pre class="codeinput"><span class="comment">% &#26368;&#23567;&#20540;&#28388;&#27874;</span>
            handles.img=myfilter2(<span class="string">'Minimum'</span>,handles.img,5);
        <span class="comment">% &#26174;&#31034;&#32467;&#26524;</span>
            axes(handles.axes2);
            imshow(handles.img);
            title(<span class="string">'\fontsize{20}\color{red}&#25552;&#21462;&#20809;&#29031;&#37096;&#20998;(&#26368;&#23567;&#20540;&#28388;&#27874;)'</span>);
        <span class="comment">% &#35774;&#32622;&#20351;&#33021;</span>
            set(handles.Minimum_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
            set(handles.Prewitt_img,<span class="string">'enable'</span>,<span class="string">'on'</span>);
        <span class="comment">% &#26356;&#26032;&#25968;&#25454;</span>
            guidata(hObject,handles);
        </pre><p><b>7.&#25233;&#21046;&#22122;&#22768;</b></p><pre class="codeinput"><span class="keyword">function</span> Prewitt_img_Callback(hObject, eventdata, handles)
        </pre><pre class="codeinput"><span class="comment">% &#25233;&#21046;&#22122;&#22768;(Prewitt&#31639;&#23376;)</span>
            handles.img=myfilter2(<span class="string">'Prewitt'</span>,handles.img);
            axes(handles.axes2);
            imshow(handles.img);
            title(<span class="string">'\fontsize{20}\color{red}&#25233;&#21046;&#22122;&#22768;(Prewitt&#31639;&#23376;)'</span>);
        <span class="comment">% &#35774;&#32622;&#20351;&#33021;</span>
            set(handles.Minimum_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
            set(handles.Prewitt_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
            set(handles.Sub_img,<span class="string">'enable'</span>,<span class="string">'on'</span>);
        <span class="comment">% &#26356;&#26032;&#25968;&#25454;</span>
            guidata(hObject,handles);
        </pre><p><b>8.&#32467;&#26524;&#30456;&#20943;</b></p><pre class="codeinput"><span class="keyword">function</span> Sub_img_Callback(hObject, eventdata, handles)
        </pre><pre class="codeinput"><span class="comment">% &#20943;&#21435;&#20809;&#29031;&#20998;&#37327;</span>
            handles.img=handles.img_old-handles.img;
        <span class="comment">% &#26174;&#31034;&#32467;&#26524;</span>
            axes(handles.axes2);
            imshow(handles.img);
            title(<span class="string">'\fontsize{20}\color{red}&#32467;&#26524;&#30456;&#20943;'</span>);
        <span class="comment">% &#35774;&#32622;&#20351;&#33021;</span>
            set(handles.Minimum_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
            set(handles.Prewitt_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
            set(handles.Sub_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
            set(handles.N_img,<span class="string">'enable'</span>,<span class="string">'on'</span>);
        <span class="comment">% &#26356;&#26032;&#25968;&#25454;</span>
            guidata(hObject,handles);
        </pre><p><b>9.&#28784;&#24230;&#25289;&#20280;</b></p><pre class="codeinput"><span class="keyword">function</span> N_img_Callback(hObject, eventdata, handles)
        </pre><pre class="codeinput"><span class="comment">% &#28784;&#24230;&#25289;&#20280;</span>
        <span class="comment">% &#23545;&#21435;&#38500;&#20809;&#29031;&#21518;&#30340;&#22270;&#20687;&#36827;&#34892;&#32447;&#24615;&#28784;&#24230;&#25289;&#20280;</span>
            handles.img=13*handles.img;
        <span class="comment">% &#23545;&#22270;&#20687;&#20013;&#30340;&#25968;&#23383;&#8216;0&#8217;&#36827;&#34892;&#23616;&#37096;&#20013;&#20540;&#28388;&#27874;</span>
            handles.img(:,1:80)=myfilter2(<span class="string">'Medium'</span>,handles.img(:,1:80),5);
            handles.img(:,80:180)=myfilter2(<span class="string">'Medium'</span>,handles.img(:,80:180),5);
        <span class="comment">% &#26174;&#31034;&#32467;&#26524;</span>
            axes(handles.axes2);
            imshow(uint8(handles.img));
            title(<span class="string">'\fontsize{20}\color{red}&#28784;&#24230;&#25289;&#20280;'</span>);
        <span class="comment">% &#35774;&#32622;&#20351;&#33021;</span>
            set(handles.Minimum_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
            set(handles.Prewitt_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
            set(handles.Sub_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
            set(handles.N_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
            set(handles.BW_img,<span class="string">'enable'</span>,<span class="string">'on'</span>);
        <span class="comment">% &#26356;&#26032;&#25968;&#25454;</span>
            guidata(hObject,handles);
        </pre><p><b>10.&#20108;&#20540;&#21270;&#22788;&#29702;</b></p><pre class="codeinput"><span class="keyword">function</span> BW_img_Callback(hObject, eventdata, handles)
        <span class="comment">% &#23545;&#22270;&#20687;&#36827;&#34892;&#20998;&#27573;&#20108;&#20540;&#21270;</span>
        <span class="comment">% &#23545;&#22270;&#20687;&#20013;&#30340;&#25968;&#23383;&#8216;0&#8217;&#20998;&#20004;&#27573;&#36827;&#34892;&#19981;&#21516;&#38408;&#20540;&#30340;&#20108;&#20540;&#21270;</span>
            left1=myim2bw(handles.img(:,1:80),0.99);
            left2=myim2bw(handles.img(:,80:180),0.3);
        <span class="comment">% &#21512;&#25104;&#25968;&#23383;&#8216;0&#8217;</span>
            BW_left=[left1 left2];
        <span class="comment">% &#23545;&#25968;&#23383;&#8216;0&#8217;&#21491;&#36793;&#36827;&#34892;&#20108;&#20540;&#21270;</span>
            BW_right=myim2bw(handles.img(:,180:size(handles.img,2)),0.3);
        <span class="comment">% &#21512;&#25104;&#25972;&#24133;&#22270;&#20687;</span>
            BW=[BW_left BW_right];
        <span class="comment">% &#26174;&#31034;&#32467;&#26524;</span>
            axes(handles.axes2);
            imshow(BW);
            title(<span class="string">'\fontsize{20}\color{red}&#20108;&#20540;&#21270;'</span>);
        <span class="comment">% &#35774;&#32622;&#20351;&#33021;</span>
            set(handles.Minimum_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
            set(handles.Prewitt_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
            set(handles.Sub_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
            set(handles.N_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
            set(handles.BW_img,<span class="string">'enable'</span>,<span class="string">'off'</span>);
        <span class="comment">% &#26356;&#26032;&#25968;&#25454;</span>
            handles.img=BW;
            guidata(hObject,handles);
        </pre></div><!--
        ##### SOURCE BEGIN #####
        %% 考试题：C10 滤波3
        % * 概述      ：对给定的图像LBimage3对图像进行滤波，去除光照影响，
        % 再进行二值化处理，得到较完整的数字和符号。
        % * 作者    ：张群伟  南昌航空大学信息工程学院自动化系
        % * 日期    ：[4/5/2017]  
        %%

        %% 
        % <<../main.bmp>>

        %%
        % *1.主函数*
        function varargout = KaoShiTi(varargin)
        % Begin initialization code - DO NOT EDIT
        gui_Singleton = 1;
        gui_State = struct('gui_Name',       mfilename, ...
                           'gui_Singleton',  gui_Singleton, ...
                           'gui_OpeningFcn', @KaoShiTi_OpeningFcn, ...
                           'gui_OutputFcn',  @KaoShiTi_OutputFcn, ...
                           'gui_LayoutFcn',  [] , ...
                           'gui_Callback',   []);
        if nargin && ischar(varargin{1})
            gui_State.gui_Callback = str2func(varargin{1});
        end
        if nargout
            [varargout{1:nargout}] = gui_mainfcn(gui_State, varargin{:});
        else
            gui_mainfcn(gui_State, varargin{:});
        end
        % End initialization code - DO NOT EDIT

        %%
        % *2.开始函数*
        function KaoShiTi_OpeningFcn(hObject, eventdata, handles, varargin)
        % 全局变量
            handles.img_old=0;                  % 源图像
            handles.img=0;                      % 图像数据
            [hight,width]=size(handles.img);    % 检索图像尺寸
            handles.img_width=width;            % 图像宽
            handles.img_hight=hight;            % 图像高
        % 设置
            set(handles.Load_img,'enable','on');
            set(handles.Minimum_img,'enable','off');
            set(handles.Prewitt_img,'enable','off');
            set(handles.Sub_img,'enable','off');
            set(handles.N_img,'enable','off');     
            set(handles.BW_img,'enable','off');       
        % Choose default command line output for KaoShiTi
        handles.output = hObject;
        % Update handles structure
        guidata(hObject, handles);
        % UIWAIT makes KaoShiTi wait for user response (see UIRESUME)
        % uiwait(handles.figure1);

        %%
        % *3.输出函数*
        function KaoShiTi_OutputFcn(hObject, eventdata, handles) 
        % Get default command line output from handles structure
        % varargout{1} = handles.output;

        %%    
        % *4.重置*
        function chongZhi_Callback(hObject, eventdata, handles)
        % 重置图像
            handles.img=handles.img_old;
            handles.img_AM=handles.img_old;
        % 重置使能
            set(handles.Minimum_img,'enable','off');
            set(handles.Prewitt_img,'enable','off');
            set(handles.Sub_img,'enable','off');
            set(handles.BW_img,'enable','off');    
            set(handles.N_img,'enable','off');
        % 显示
            axes(handles.axes2);
            imshow(handles.img);
        guidata(hObject,handles);


        %%
        % *5.加载图像*
        function Load_img_Callback(hObject, eventdata, handles)
        % 加载图像
            str='LBimage3.bmp';
            handles.img_old=imread(str);        % 源图像
            handles.img=imread(str);            % 图像数据
        % 显示图像
            axes(handles.axes1);
            imshow(handles.img);
            title('\fontsize{20}\color{red}原图');
        % 设置使能
            set(handles.Minimum_img,'enable','on');
            set(handles.Prewitt_img,'enable','off');
            set(handles.Sub_img,'enable','off');
            set(handles.BW_img,'enable','off');    
            set(handles.N_img,'enable','off');    
        % 更新数据
            guidata(hObject,handles);


        %%
        % *6.提取光照部分*    
        function Minimum_img_Callback(hObject, eventdata, handles)
        % 最小值滤波
            handles.img=myfilter2('Minimum',handles.img,5);
        % 显示结果
            axes(handles.axes2);
            imshow(handles.img);
            title('\fontsize{20}\color{red}提取光照部分(最小值滤波)');
        % 设置使能
            set(handles.Minimum_img,'enable','off');
            set(handles.Prewitt_img,'enable','on');
        % 更新数据
            guidata(hObject,handles);    
            

        %%
        % *7.抑制噪声*
        function Prewitt_img_Callback(hObject, eventdata, handles)
        % 抑制噪声(Prewitt算子)
            handles.img=myfilter2('Prewitt',handles.img);
            axes(handles.axes2);
            imshow(handles.img);
            title('\fontsize{20}\color{red}抑制噪声(Prewitt算子)');
        % 设置使能
            set(handles.Minimum_img,'enable','off');
            set(handles.Prewitt_img,'enable','off');
            set(handles.Sub_img,'enable','on');   
        % 更新数据
            guidata(hObject,handles);
            
            
        %%
        % *8.结果相减*    
        function Sub_img_Callback(hObject, eventdata, handles)
        % 减去光照分量
            handles.img=handles.img_old-handles.img;  
        % 显示结果
            axes(handles.axes2);
            imshow(handles.img);
            title('\fontsize{20}\color{red}结果相减');
        % 设置使能
            set(handles.Minimum_img,'enable','off');
            set(handles.Prewitt_img,'enable','off');
            set(handles.Sub_img,'enable','off');   
            set(handles.N_img,'enable','on');    
        % 更新数据
            guidata(hObject,handles);

            
        %%
        % *9.灰度拉伸*    
        function N_img_Callback(hObject, eventdata, handles)
        % 灰度拉伸 
        % 对去除光照后的图像进行线性灰度拉伸
            handles.img=13*handles.img;
        % 对图像中的数字‘0’进行局部中值滤波
            handles.img(:,1:80)=myfilter2('Medium',handles.img(:,1:80),5);
            handles.img(:,80:180)=myfilter2('Medium',handles.img(:,80:180),5);
        % 显示结果
            axes(handles.axes2);    
            imshow(uint8(handles.img));
            title('\fontsize{20}\color{red}灰度拉伸');
        % 设置使能
            set(handles.Minimum_img,'enable','off');
            set(handles.Prewitt_img,'enable','off');
            set(handles.Sub_img,'enable','off');
            set(handles.N_img,'enable','off'); 
            set(handles.BW_img,'enable','on');       
        % 更新数据
            guidata(hObject,handles);
            
            
        %%
        % *10.二值化处理*
        function BW_img_Callback(hObject, eventdata, handles)
        % 对图像进行分段二值化
        % 对图像中的数字‘0’分两段进行不同阈值的二值化
            left1=myim2bw(handles.img(:,1:80),0.99);
            left2=myim2bw(handles.img(:,80:180),0.3);
        % 合成数字‘0’
            BW_left=[left1 left2];
        % 对数字‘0’右边进行二值化
            BW_right=myim2bw(handles.img(:,180:size(handles.img,2)),0.3);
        % 合成整幅图像
            BW=[BW_left BW_right];
        % 显示结果
            axes(handles.axes2);
            imshow(BW);
            title('\fontsize{20}\color{red}二值化');
        % 设置使能
            set(handles.Minimum_img,'enable','off');
            set(handles.Prewitt_img,'enable','off');
            set(handles.Sub_img,'enable','off');
            set(handles.N_img,'enable','off');     
            set(handles.BW_img,'enable','off');    
        % 更新数据
            handles.img=BW;
            guidata(hObject,handles); 

            

        ##### SOURCE END #####
        -->

<!-- / Matlab body -->
    
  </body>
</html>
